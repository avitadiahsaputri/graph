"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.TestPromptManager = void 0;
/**
 * A prompt manager used for testing.
 */
class TestPromptManager {
    functions = new Map();
    templates = new Map();
    addFunction(name, handler, allowOverrides) {
        this.functions.set(name, handler);
        return this;
    }
    addPromptTemplate(name, template) {
        this.templates.set(name, template);
        return this;
    }
    invokeFunction(context, state, name) {
        if (this.functions.has(name)) {
            return this.functions.get(name)(context, state);
        }
        else {
            throw new Error(`Function ${name} not found.`);
        }
    }
    renderPrompt(context, state, nameOrTemplate) {
        if (typeof nameOrTemplate === 'string') {
            if (this.templates.has(nameOrTemplate)) {
                return Promise.resolve(this.templates.get(nameOrTemplate));
            }
            else {
                throw new Error(`Template ${nameOrTemplate} not found.`);
            }
        }
        else {
            return Promise.resolve(nameOrTemplate);
        }
    }
}
exports.TestPromptManager = TestPromptManager;
//# sourceMappingURL=TestPromptManager.js.map